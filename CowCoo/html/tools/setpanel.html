<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>咕咕牛设置面板</title>
  <style>
    @font-face {
      font-family: 'Orbitron';
      font-style: normal;
      font-weight: 700;
      font-display: swap;
      src: url('{{guguniu_res_path}}html/fonts/Orbitron-Bold.woff2') format('woff2');
    }

    @font-face {
      font-family: 'Orbitron-Medium';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url('{{guguniu_res_path}}html/fonts/Orbitron-Medium.woff2') format('woff2');
    }

    @font-face {
      font-family: 'Rajdhani';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url('{{guguniu_res_path}}html/fonts/Rajdhani-Medium.woff2') format('woff2');
    }

    @font-face {
      font-family: 'Noto Sans SC';
      font-style: normal;
      font-weight: 400;
      font-display: swap;
      src: url('{{guguniu_res_path}}html/fonts/NotoSansSC-Regular.woff2') format('woff2');
    }

    :root {
      --bg-color: #f8f9fa;
      --container-bg: #ffffff;
      --container-border: #333333;
      --text-primary: #212529;
      --text-secondary: #495057;
      --text-muted: #adb5bd;
      --accent-color: #333333;
      --card-1-color: #20c997;
      --card-2-color: #1395ff;
      --card-3-color: #5a5a5a;
      --card-4-color: #ff9838;
      --card-text-color: #ffffff;
      --log-bg: #fdfdff;
      --log-border: #f1f3f5;
      --success-color: #28a745;
      --fail-color: #dc3545;
      --force-sync-color: #e67e22;
      --no-change-color: #6c757d;
      --accent-glow: rgba(0, 0, 0, 0.4);

      --panel-backdrop-blur: 10px;
      --header-bg-dark: #333333;
      --header-title-color: #ffffff;
      --header-subtitle-color: rgba(255, 255, 255, 0.6);
      --header-underline-color: var(--card-2-color);
      --header-border-line: rgba(255, 255, 255, 0.1);

      --item-bg-card: rgba(255, 255, 255, 0.25);
      --item-border-card: rgba(221, 221, 221, 0.8);
      --item-shadow-card: rgba(0, 0, 0, 0.04);

      --grad-tuku-start: var(--card-1-color);
      --grad-tuku-end: #00796b;
      --glow-tuku: var(--card-1-color);

      --grad-pfl-start: var(--card-4-color);
      --grad-pfl-end: #ef6c00;
      --glow-pfl: var(--card-4-color);

      --grad-layout-start: var(--card-2-color);
      --grad-layout-end: #0d47a1;
      --glow-layout: var(--card-2-color);

      --grad-easteregg-start: #e1bee7;
      --grad-easteregg-end: #6a1b9a;
      --glow-easteregg: #e1bee7;

      --grad-ai-start: #ffccbc;
      --grad-ai-end: #bf360c;
      --glow-ai: #ffccbc;

      --grad-merge-start: #c8e6c9;
      --grad-merge-end: #2e7d32;
      --glow-merge: var(--grad-merge-start);

      --value-enabled-color: #00af50;
      --value-enabled-border: rgba(0, 175, 80, 0.4);
      --value-enabled-bg: rgba(220, 250, 220, 0.8);
      --value-enabled-color-shadow-glow: rgba(0, 175, 80, 0.5);

      --value-disabled-color: #e00030;
      --value-disabled-border: rgba(224, 0, 48, 0.4);
      --value-disabled-bg: rgba(250, 220, 220, 0.8);
      --value-disabled-color-shadow-glow: rgba(224, 0, 48, 0.5);

      --grid-line-color: rgba(0, 0, 0, 0.008);
      --grid-cell-size: 20px;
    }

    * {
      box-sizing: border-box;
    }

    html,
    body {
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Noto Sans SC', sans-serif;
      background-color: var(--bg-color);
      color: var(--text-primary);
      padding: 10px;
      font-size: 14px;
      line-height: 1.6;
      width: 560px;
      position: relative;
      z-index: 0;
      min-height: 100vh;
      overflow: hidden;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      margin: 20px auto;
    }

    .container-shadow-wrapper {
      position: relative;
      z-index: 2;
      filter: drop-shadow(0 10px 20px rgba(108, 117, 125, 0.2));
      padding: 0;
      box-sizing: border-box;
      border-radius: 12px;
      width: 100%;
      margin: 0 auto;
    }


    .container {
      background-image:
        repeating-linear-gradient(45deg, rgba(0, 0, 0, 0.03) 0, rgba(0, 0, 0, 0.03) 1px, transparent 1px, transparent 20px),
        repeating-linear-gradient(-45deg, rgba(0, 0, 0, 0.03) 0, rgba(0, 0, 0, 0.03) 1px, transparent 1px, transparent 20px);
      background-size: 20px 20px;
      position: relative;
      background-color: var(--container-bg);
      backdrop-filter: blur(var(--panel-backdrop-blur));
      -webkit-backdrop-filter: blur(var(--panel-backdrop-blur));
      border: 1px solid var(--container-border);
      width: 540px;
      margin: 0 auto;
      border-radius: 12px;
      box-shadow: 0 4px 20px var(--soft-shadow);
      padding: 0;
      box-sizing: border-box;
      z-index: 1;
      overflow: hidden;
      -webkit-backface-visibility: hidden;
      -moz-backface-visibility: hidden;
      -webkit-transform: translate3d(0, 0, 0);
      -moz-transform: translate3d(0, 0, 0);
      box-shadow: 0 0 15px 5px var(--accent-glow);
    }

    .container,
    .glow-border .glow-clip-inner {
      clip-path: none;
    }

    .glow-border,
    .trapezoid-deco {
      display: none;
    }

    .header {
      background-color: #050505;
      padding: 4px;
      margin-bottom: 20px;
      overflow: hidden;
      box-shadow:
        0 10px 25px rgba(0, 0, 0, 0.4),
        inset 0 1px 1px rgba(255, 255, 255, 0.3),
        inset 0 -1px 1px rgba(255, 255, 255, 0.1);
    }

    .header-screen {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 20px 25px;
      border-radius: 11px 11px 0 0;
      background-color: #1a0b2e;
      background-image:
        repeating-linear-gradient(45deg, transparent, transparent 30px, rgba(0, 0, 0, 0.6) 30px, rgba(0, 0, 0, 0.6) 31.5px),
        repeating-linear-gradient(-45deg, transparent, transparent 30px, rgba(0, 0, 0, 0.6) 30px, rgba(0, 0, 0, 0.6) 31.5px),
        linear-gradient(135deg, #2a0e45 0%, #0d1b40 100%);
      border: none;
      box-shadow:
        inset 0 0 10px 0px rgba(0, 243, 255, 0.25),
        inset 0 0 30px 5px rgba(188, 19, 254, 0.3);
      position: relative;
    }

    .header h1 {
      font-family: 'Noto Sans SC', sans-serif;
      font-weight: 700;
      font-size: 26px;
      color: #ffffff;
      margin: 0;
      letter-spacing: 0.5px;
      position: relative;
      display: flex;
      align-items: baseline;
      padding-bottom: 4px;
      flex-grow: 1;
      text-shadow:
        0 0 5px rgba(0, 243, 255, 0.6),
        0 0 10px rgba(188, 19, 254, 0.4),
        2px 2px 0 #000000;
    }

    .header h1 span {
      font-family: 'Orbitron';
      color: #00f3ff;
      font-size: 16px;
      margin-left: 10px;
      letter-spacing: 0.25px;
      text-transform: uppercase;
      font-weight: bold;
      opacity: 0.9;
    }

    .header h1::after {
      content: '';
      position: absolute;
      left: 0;
      bottom: 0;
      width: 30%;
      height: 3px;
      background-color: #00f3ff;
      border-radius: 1px;
      box-shadow: 0 0 8px #00f3ff;
    }

    .header-image-container {
      width: 60px;
      height: 60px;
      flex-shrink: 0;
      margin-left: 20px;
      display: flex;
      justify-content: center;
      align-items: center;
      border: none;
      background: transparent;
      position: relative;
    }

    .header-image-container::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 100%;
      height: 100%;
      background: radial-gradient(circle, rgba(0, 243, 255, 0.3) 0%, transparent 70%);
      z-index: -1;
      filter: blur(8px);
    }

    .header-cute-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
      -webkit-mask-image: radial-gradient(circle at center, black 60%, transparent 100%);
      mask-image: radial-gradient(circle at center, black 60%, transparent 100%);
      filter: brightness(1.1) contrast(1.1);
    }

    .category-title {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: 'Orbitron', 'Noto Sans SC', sans-serif;
      font-size: 16px;
      font-weight: 700;
      color: var(--text-secondary);
      margin: 20px 0 10px 0;
      padding-left: 0;
      letter-spacing: 0.5px;
      width: 100%;
    }

    .title-more {
      font-size: 14px;
      color: var(--text-muted);
      font-family: 'Orbitron', sans-serif;
      margin-right: 5px;
    }

    .section-badge-title {
      font-family: 'Orbitron', sans-serif;
      font-weight: 700;
      font-size: 1.2em;
      color: #333;
      text-transform: uppercase;
      letter-spacing: 1px;
      white-space: nowrap;
      margin-right: 15px;
      padding: 5px 10px;
      border-radius: 4px;
      display: inline-flex;
      align-items: center;
    }

    .settings-category:nth-child(1) .section-badge-title {
      background: linear-gradient(to right, rgba(19, 149, 255, 0.1), transparent);
      border-left: 4px solid #1395ff;
      color: #0d47a1;
    }

    .settings-category:nth-child(2) .section-badge-title {
      background: linear-gradient(to right, rgba(32, 201, 151, 0.1), transparent);
      border-left: 4px solid #20c997;
      color: #00796b;
    }

    .settings-category:nth-child(3) .section-badge-title {
      background: linear-gradient(to right, rgba(255, 112, 67, 0.1), transparent);
      border-left: 4px solid #ff7043;
      color: #e65100;
    }

    .section-badge-title .icon {
      margin-right: 8px;
    }


    .settings-list-section {
      padding: 0 35px 0 35px;
      position: relative;
      z-index: 1;
    }

    .setting-row-group {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      margin-bottom: 18px;
    }

    .setting-item {
      background-color: var(--item-bg-card);
      border-radius: 8px;
      padding: 18px 22px 18px 20px;
      margin-bottom: 18px;
      border: 1px solid var(--item-border-card);
      box-shadow: 0 2px 8px var(--item-shadow-card);
      display: flex;
      align-items: center;
      justify-content: space-between;
      position: relative;
      z-index: 1;
      overflow: hidden;
      backdrop-filter: blur(5px);
      -webkit-backdrop-filter: blur(5px);
    }

    .setting-row-group .setting-item {
      flex: 1 1 calc(50% - 7.5px);
      margin-bottom: 0;
      flex-direction: column;
      justify-content: space-between;
      align-items: flex-start;
      padding: 15px 20px;
      min-height: 140px;
    }

    .setting-row-group .setting-item.item-tuku::before,
    .setting-row-group .setting-item.item-pfl::before {
      display: none;
    }

    .feature-toggle-group {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 18px;
    }

    .feature-toggle-group .setting-item {
      flex: 1 1 calc(33.33% - 6.66px);
      min-width: 0;
      margin-bottom: 0;
      box-shadow: 0 2px 8px var(--item-shadow-card);
      padding: 10px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: space-between;
      text-align: center;
      gap: 0;
      border: 1px solid var(--item-border-card);
      min-height: 120px;
    }

    .feature-toggle-group .setting-item .item-right {
      display: none;
    }

    .setting-row-group .setting-item .item-right {
      display: none;
    }

    .feature-toggle-group .setting-item .item-left {
      padding-left: 0;
      align-items: center;
      width: 100%;
      flex-grow: 1;
      display: flex;
      justify-content: center;
    }

    .setting-row-group .setting-item .item-left {
      width: 100%;
      flex-grow: 1;
      padding-left: 0;
    }


    .feature-toggle-group .setting-item .label {
      font-size: 15px;
      margin-bottom: 0;
      padding-bottom: 5px;
      border-bottom: 0.5px dashed rgba(0, 0, 0, 0.08);
      width: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      line-height: 1.3;
    }

    .feature-toggle-group .setting-item .label::before {
      display: none;
    }

    .feature-toggle-group .setting-item .value-description,
    .feature-toggle-group .setting-item .command-example {
      display: none;
    }

    .setting-item .value.status-bottom {
      display: flex;
      justify-content: center;
      align-items: center;
      width: 100%;
      padding: 8px 0;
      margin-top: 10px;
      border-radius: 5px;
      font-size: 14px;
      text-shadow: 0 0 0.5px rgba(0, 0, 0, 0.05);
      box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.05);
    }

    .setting-item .value.status-bottom-main {
      display: flex;
      justify-content: center;
      align-items: center;
      width: 100%;
      padding: 8px 0;
      margin-top: 10px;
      border-radius: 5px;
      font-size: 14px;
      text-shadow: 0 0 0.5px rgba(0, 0, 0, 0.05);
      box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.05);
    }

    .feature-toggle-group .setting-item.value-enabled {
      box-shadow: 0 0 0 1px var(--value-enabled-color),
        0 0 10px 3px var(--value-enabled-color-shadow-glow),
        0 2px 8px var(--item-shadow-card);
    }

    .feature-toggle-group .setting-item.value-disabled {
      box-shadow: 0 0 0 1px var(--value-disabled-color),
        0 0 10px 3px var(--value-disabled-color-shadow-glow),
        0 2px 8px var(--item-shadow-card);
    }

    .setting-row-group .setting-item.value-enabled {
      box-shadow: 0 0 0 2px var(--value-enabled-color),
        0 2px 8px var(--item-shadow-card);
      border-color: var(--value-enabled-color);
    }


    .group-command-example {
      margin-top: -10px;
      margin-bottom: 18px;
      text-align: center;
      background-color: rgba(255, 255, 255, 0.15);
      border-radius: 8px;
      padding: 10px 15px;
      border: 1px dashed rgba(0, 0, 0, 0.1);
      color: var(--text-secondary);
      backdrop-filter: blur(3px);
      -webkit-backdrop-filter: blur(3px);
    }

    .group-command-example .value-description {
      font-size: 13px;
      margin-bottom: 5px;
      color: var(--text-secondary);
      padding-left: 0;
    }

    .group-command-example .command-example {
      font-size: 12px;
      color: var(--text-muted);
      padding-left: 0;
    }

    .value-level-0 {
      --status-color: var(--value-enabled-color);
      --status-border: var(--value-enabled-border);
      --status-bg: var(--value-enabled-bg);
      background-color: var(--status-bg) !important;
      border: 1px solid var(--status-border) !important;
      color: var(--status-color) !important;
      box-shadow: 0 0 5px var(--value-enabled-color-shadow-glow);
    }

    .item-tuku {
      --item-color: var(--card-1-color);
      border: 1px solid rgba(19, 149, 255, 0.15) !important;
    }

    .item-pfl {
      --item-color: var(--card-4-color);
      border: 1px solid rgba(19, 149, 255, 0.15) !important;
    }

    .item-tuku .label,
    .item-pfl .label {
      border-bottom: 1px dashed rgba(0, 0, 0, 0.1);
      padding-bottom: 4px;
      margin-bottom: 8px;
      width: 100%;
      font-weight: bold;
    }

    .item-layout {
      --item-color: var(--card-2-color);
    }

    .item-easteregg {
      --item-color: #8e24aa;
    }

    .item-ai {
      --item-color: #e53935;
    }

    .item-merge {
      --item-color: #4caf50;
    }

    .item-placeholder {
      --item-color: #26a69a;
    }

    .item-left {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      flex-grow: 1;
      position: relative;
      z-index: 1;
      padding-left: 0;
    }

    .setting-item .label {
      color: var(--text-primary);
      display: flex;
      align-items: center;
      font-size: 14px;
      margin-bottom: 5px;
      letter-spacing: 0.25px;
    }

    .setting-item .label::before {
      content: '◈';
      display: inline-block;
      margin-right: 5px;
      color: var(--item-color);
      font-size: 13px;
      transform: translateY(-0.5px);
    }

    .value-description {
      font-size: 12px;
      color: var(--text-secondary);
      line-height: 1.4;
      padding-left: 12px;
      font-family: 'Noto Sans SC', sans-serif;
      font-weight: 400;
    }

    .command-example {
      font-size: 11px;
      color: var(--text-muted);
      padding-left: 12px;
      margin-top: 2px;
      font-family: 'Consolas', 'Menlo', 'monospace';
      opacity: 0.9;
    }

    .item-right {
      text-align: right;
      flex-shrink: 0;
      min-width: 95px;
      position: relative;
      z-index: 1;
    }

    .setting-item .value {
      font-size: 14px;
      padding: 6px 12px;
      border-radius: 5px;
      background-color: var(--status-bg);
      display: inline-block;
      border: 1px solid var(--status-border);
      color: var(--status-color);
      text-shadow: 0 0 0.5px rgba(0, 0, 0, 0.05);
    }

    .item-placeholder .value.value-enabled {
      font-weight: 700;
      background: linear-gradient(135deg, #e0f7fa 0%, #b2ebf2 100%);
      border: 1px solid #4db6ac;
      color: #004d40;
      box-shadow: 0 0 8px rgba(0, 150, 136, 0.4), inset 0 1px 1px rgba(255, 255, 255, 0.5);
      text-shadow: 0 0 2px rgba(255, 255, 255, 0.7);
    }

    .item-placeholder .value.value-disabled {
      font-weight: 700;
      background: #f5f5f5;
      border: 1px solid #b0bec5;
      color: #37474f;
      box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
      text-shadow: none;
    }

    .value-enabled {
      --status-color: var(--value-enabled-color);
      --status-border: var(--value-enabled-border);
      --status-bg: var(--value-enabled-bg);
    }

    .value-disabled {
      --status-color: var(--value-disabled-color);
      --status-border: var(--value-disabled-border);
      --status-bg: var(--value-disabled-bg);
    }

    .setting-row-group .setting-item.item-pfl .value.status-bottom-main[data-level="0"] {
      background-color: #f5f5f5;
      border: 1px solid #b0bec5;
      color: #37474f;
      box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
      text-shadow: none;
    }

    .value-level-custom {
      --status-color: #00838f;
      --status-border: rgba(0, 188, 212, 0.3);
      --status-bg: rgba(178, 235, 242, 0.6);
    }

    .item-disabled .label,
    .item-disabled .value-description,
    .item-disabled .command-example {
      color: #9e9e9e !important;
      text-shadow: none;
    }

    .item-disabled .label::before {
      color: #9e9e9e !important;
    }

    .item-disabled .value {
      filter: grayscale(80%);
      opacity: 0.7;
    }

    .footer {
      text-align: center;
      padding: 0px 0px 20px 0px;
      font-size: 14px;
      color: var(--text-secondary);
      letter-spacing: 0.25px;
      font-family: 'Orbitron', sans-serif;
      font-weight: 500;
      position: relative;
      z-index: 1;
    }
  </style>
</head>

<body style="{{RenderMatrix}}">
  <div class="container-shadow-wrapper">
    <div class="container">
      <header class="header">
        <div class="header-screen">
          <h1>咕咕牛的设置面板<span>/ISETTINGI/</span></h1>
          <div class="header-image-container">
            {{ if headerImg }}
            <img src="{{ headerImg }}" class="header-cute-image" />
            {{ /if }}
          </div>
        </div>
      </header>

      <main class="settings-list-section">
        <div class="settings-category">
          <h2 class="category-title">
            <span class="section-badge-title">
              <span class="icon"></span>主要设置
            </span>
            <span class="title-more">Primary Settings</span>
          </h2>
          <div class="setting-row-group">
            <div class="setting-item item-tuku">
              <div class="item-left">
                <span class="label">图库状态</span>
                <div class="value-description">同步图库至插件内的文件夹</div>
                <div class="command-example">#[启用/禁用]咕咕牛</div>
              </div>
              <span class="value status-bottom-main {{ tuKuStatus.class }}">{{ tuKuStatus.text }}</span>
            </div>
            <div class="setting-item item-pfl">
              <div class="item-left">
                <span class="label">净化等级</span>
                <div class="value-description">{{ pflStatus.description }}</div>
                <div class="command-example">#咕咕牛设置净化等级[0/1/2]</div>
              </div>
              <span class="value status-bottom-main {{ pflStatus.class }}">{{ pflStatus.level }}</span>
            </div>
          </div>
        </div>

        <div class="settings-category">
          <h2 class="category-title">
            <span class="section-badge-title">
              <span class="icon"></span>附加选项
            </span>
            <span class="title-more">View More</span>
          </h2>
          <div class="feature-toggle-group">
            <div class="setting-item item-ai {{ aiStatus.class }}">
              <div class="item-left">
                <span class="label">AI图</span>
              </div>
              <span class="value status-bottom {{ aiStatus.class }}">{{ aiStatus.text }}</span>
            </div>
            <div class="setting-item item-easteregg {{ easterEggStatus.class }}">
              <div class="item-left">
                <span class="label">彩蛋图</span>
              </div>
              <span class="value status-bottom {{ easterEggStatus.class }}">{{ easterEggStatus.text }}</span>
            </div>
            <div class="setting-item item-layout {{ layoutStatus.class }}">
              <div class="item-left">
                <span class="label">横屏图</span>
              </div>
              <span class="value status-bottom {{ layoutStatus.class }}">{{ layoutStatus.text }}</span>
            </div>
          </div>
          <div class="group-command-example">
            <div class="value-description">是否允许使用Ai生成、彩蛋、横屏图片</div>
            <div class="command-example">#咕咕牛设置[Ai/彩蛋/横屏][开启/关闭]</div>
          </div>
          <div class="setting-item item-renderscale">
            <div class="item-left">
              <span class="label">渲染精度</span>
              <div class="value-description">调整所有生成图片的清晰度(缩放因子)(100%-500%)</div>
              <div class="command-example">#咕咕牛设置渲染精度[数值]</div>
            </div>
            <div class="item-right">
              <span class="value value-level-custom">{{ RenderScale.value }}%</span>
            </div>
          </div>
        </div>
      </main>
      <footer class="footer">Miao-Plugin-MBT v{{ Version }} © 咕咕牛</footer>
    </div>
  </div>
</body>

</html>